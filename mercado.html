<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mercato Off-Season - OW Andromeda</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Orbitron (t√≠tulos) e Inter (cuerpo) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        .font-inter { font-family: 'Inter', sans-serif; }
        .main-bg { background-color: #0a0a0a; }
        
        /* Colores de estado seg√∫n la leyenda */
        .status-f { background-color: #3b82f6; } /* Firmado / Anunciado */
        .status-p { background-color: #22c55e; } /* >90% probable */
        .status-q { background-color: #84cc16; } /* Propenso a quedarse/llegar */
        .status-interrogante { background-color: #f59e0b; } /* Posibilidad / No info */
        .status-s { background-color: #d97706; } /* Apunta a salir / Improbable */
        .status-x { background-color: #ef4444; } /* Salida / <10% probable */
        .status-r { background-color: #ec4899; } /* Rumor */
        .status-t { background-color: #a855f7; } /* Tryouts */
        .status-desconocido { background-color: #a1a1aa; } /* Gris por defecto */
    </style>
</head>
<body class="bg-zinc-950 text-slate-200 font-inter">

    <!-- ===== Header / Navegaci√≥n ===== -->
    <header id="header" class="bg-zinc-950/80 backdrop-blur-sm sticky top-0 left-0 w-full z-50 transition-all duration-300">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-orbitron font-bold text-white">
                OW<span class="text-orange-500">A</span>
            </a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="index.html" class="hover:text-orange-500 transition-colors">Inicio</a>
                <a href="partidos.html" class="hover:text-orange-500 transition-colors">Partidos</a>
                <a href="clasificacion.html" class="hover:text-orange-500 transition-colors">Clasificaci√≥n</a>
                <a href="#" class="text-orange-500 font-bold">Mercato</a>
                <a href="normativa.html" class="hover:text-orange-500 transition-colors">Normativa</a>
            </div>
            <a href="https://www.faceit.com/es/championship/63f68d66-d67e-4a2b-a655-4ba8c18214dd/Season%2520II" target="_blank" class="hidden md:block bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-5 rounded-lg transition-all duration-300 transform hover:scale-105">
                Inscr√≠bete
            </a>
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                <i class="ph-fill ph-list text-3xl"></i>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-zinc-900">
             <a href="index.html" class="block py-2 px-4 hover:bg-zinc-800 hover:text-orange-500">Inicio</a>
             <a href="partidos.html" class="block py-2 px-4 hover:bg-zinc-800 hover:text-orange-500">Partidos</a>
             <a href="clasificacion.html" class="block py-2 px-4 hover:bg-zinc-800 hover:text-orange-500">Clasificaci√≥n</a>
             <a href="#" class="block py-2 px-4 bg-zinc-800 text-orange-500 font-bold">Mercato</a>
             <a href="normativa.html" class="block py-2 px-4 hover:bg-zinc-800 hover:text-orange-500">Normativa</a>
             <a href="https://www.faceit.com/es/championship/63f68d66-d67e-4a2b-a655-4ba8c18214dd/Season%2520II" target="_blank" class="block text-center py-4 px-4 bg-orange-500 text-white font-bold">Inscr√≠bete</a>
        </div>
    </header>

    <main class="main-bg pt-20 pb-20">
        <div class="container mx-auto px-12">
            <div class="text-center mb-12">
                <h1 class="text-5xl md:text-6xl font-orbitron font-bold text-white">Mercato Off-Season</h1>
                <p class="mt-4 max-w-3xl mx-auto text-slate-400">
                    Sigue todos los movimientos, fichajes y rumores de los equipos de OW Andromeda.
                </p>
            </div>
            
            <div id="content-container">
                <div id="teams-grid" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8">
                    <!-- Las tarjetas de equipo se generar√°n aqu√≠ -->
                </div>
                
                <div id="lft-section" class="mt-16">
                     <!-- La secci√≥n LFT se generar√° aqu√≠ -->
                </div>
            </div>
        </div>
    </main>
    
    <!-- Bot√≥n flotante para la Leyenda -->
    <button id="legend-toggle-btn" class="fixed top-1/2 right-0 -translate-y-1/2 bg-orange-500 text-white p-3 rounded-l-lg shadow-lg z-40 transform hover:scale-110 transition-transform">
        <i class="ph-fill ph-info text-2xl"></i>
    </button>
    
    <!-- Panel lateral de la Leyenda -->
    <div id="legend-sidebar" class="fixed top-0 right-0 h-full w-[500px] max-w-full bg-zinc-900 border-l-2 border-orange-500 shadow-2xl z-[60] transform translate-x-full transition-transform duration-300 ease-in-out">
        <!-- Contenido de la leyenda se insertar√° aqu√≠ -->
    </div>
    <div id="overlay" class="hidden fixed inset-0 bg-black/60 z-50"></div>

    <!-- ===== Footer ===== -->
    <footer class="bg-black py-10">
        <div class="container mx-auto px-6 text-center text-slate-500">
            <div class="mb-10">
                <h3 class="text-sm uppercase tracking-widest text-slate-400 mb-6">Nuestros patrocinadores</h3>
                <div class="flex justify-center items-center gap-8 opacity-60">
                    <img src="assets/img/FACEIT.png" alt="FACEIT Logo" class="h-8 filter grayscale hover:grayscale-0 transition-all duration-300">
                </div>
            </div>
            <div class="flex justify-center space-x-6 mt-6">
                <a href="https://twitter.com/OWAndromedaes" target="_blank" class="hover:text-orange-500 transition-colors"><i class="ph-fill ph-twitter-logo text-2xl"></i></a>
                <a href="https://www.twitch.tv/owandromedaes" target="_blank" class="hover:text-orange-500 transition-colors"><i class="ph-fill ph-twitch-logo text-2xl"></i></a>
                <a href="https://discord.com/owandromeda" target="_blank" class="hover:text-orange-500 transition-colors"><i class="ph-fill ph-discord-logo text-2xl"></i></a>
            </div>
            <p class="mt-4 text-sm">¬© 2024 OW Andromeda. Todos los derechos reservados.</p>
            <p class="mt-2 text-xs">Overwatch es una marca registrada de Blizzard Entertainment, Inc. Esta liga no est√° afiliada ni respaldada por Blizzard Entertainment.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- DATOS DE LA LIGA (Formato local) ---
            const teamsData = [
                { 
                    name: 'Dreamlight',
                    players: {
                        left: [
                            { name: 'Alphaa', status: 'p', nationality: 'üáµüáπ' },
                            { name: 'DCruz', status: 'p', nationality: 'üáµüáπ' },
                            { name: 'kurama', status: 'p', nationality: 'üáµüáπ' },
                            { name: 'TommeX', status: 'p', nationality: 'üá™üá™' },
                            { name: 'Rodfd', status: 'p', nationality: 'üáµüáπ' },
                        ],
                        right: [
                            { name: 'Centralapan', status: 'p', nationality: 'üá∏üá™' },
                            { name: 'pommitimo*', status: 'q', nationality: 'üá´üáÆ' },
                            { name: 'lillen*', status: 'interrogante', nationality: 'üá∏üá™' },
                        ]
                    }
                },
                { 
                    name: 'Nacht Der Untoten',
                    players: {
                        left: [
                            { name: 'xzodyal', status: 'interrogante', nationality: 'üá™üá∏' },
                            { name: 'loren', status: 's', nationality: 'üá™üá∏' },
                            { name: 'yoham', status: 'interrogante', nationality: 'üá©üá∞' },
                            { name: 'alba', status: 's', nationality: 'üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø' },
                        ],
                        right: [
                            { name: 'khenail', status: 'interrogante', nationality: 'üá™üá∏' },
                            { name: 'Aka', status: 's', nationality: 'üá™üá∏' },
                            { name: 'BroPlaYer', status: 's', nationality: 'üá™üá∏' },
                        ]
                    }
                },
                 { 
                    name: 'Ereus',
                    players: {
                        left: [
                            { name: 'Santy*', status: 'q', nationality: 'üá™üá∏' },
                            { name: 'Amsukiw', status: 'p', nationality: 'üëΩ' },
                            { name: 'evil', status: 'p', nationality: 'üáÆüá™' },
                            { name: 'graalis*', status: 'q', nationality: 'üá™üá∏' },
                            { name: 'lqMighty', status: 'p', nationality: 'üá™üá∏' },
                            { name: 'JouJou', status: 'p', nationality: 'üá™üá∏', staff: 'M' },
                        ],
                        right: [
                            { name: 'choco', status: 'p', nationality: 'üá™üá∏' },
                            { name: 'asaru*', status: 'q', nationality: 'üá´üá∑' },
                            { name: 'L4sY / Adri', status: 'interrogante', nationality: 'üá™üá∏' },
                            { name: 'agapito', status: 'p', nationality: 'üá™üá∏' },
                            { name: 'vayy', status: 'q', nationality: 'üá∏üá™' },
                        ]
                    }
                },
                { 
                    name: 'Five',
                    players: {
                        left: [
                            { name: 'Ade', status: 's', nationality: 'üá∑üá¥' },
                            { name: 'conde', status: 's', nationality: 'üá™üá∏' },
                            { name: 'bones', status: 's', nationality: 'üá™üá∏' },
                            { name: 'Haya', status: 's', nationality: 'üá™üá∏' },
                            { name: 'CaptainPrash', status: 's', nationality: 'üá¨üáß' },
                            { name: 'NIcol', status: 'x', nationality: 'üá∏üá∞', staff: 'M' },
                        ],
                        right: [
                             { name: 'Hitori', status: 's', nationality: 'üá©üá™' },
                             { name: 'Sumi', status: 'x', nationality: 'üá™üá∏' },
                             { name: 'heaveNN', status: 'x', nationality: 'üá™üá∏' },
                        ]
                    }
                },
                {
                    name: 'Redline',
                    players: {
                        left: [
                            { name: 'Hegoi', status: 'q', nationality: 'üá™üá∏' },
                            { name: 'rdy', status: 'q', nationality: 'üá™üá∏' },
                            { name: 'Dazedreox', status: 'q', nationality: 'üá™üá∏' },
                        ],
                        right: [
                            { name: 'haku*', status: 'r', nationality: 'üá∏üá¶' },
                            { name: 'zox*', status: 'r', nationality: 'üá∏üá¶' },
                        ]
                    }
                },
                {
                    name: 'ActivadeWindows',
                    players: {
                        left: [
                            { name: 'goldenpants*', status: 'interrogante', nationality: 'üá¨üáß' },
                            { name: 'yuki*', status: 'r', nationality: 'üá™üá∏' },
                            { name: 'Aka*', status: 'interrogante', nationality: 'üá™üá∏' },
                        ],
                        right: [
                            { name: 'BroPlaYer*', status: 'r', nationality: 'üá™üá∏' },
                            { name: 'galaa*', status: 'r', nationality: 'üá™üá∏' },
                            { name: 'Yazid*', status: 'r', nationality: 'üá∏üá¶' },
                            { name: 'Conde*', status: 'r', nationality: 'üá™üá∏' },
                            { name: 'SrBatai*', status: 'q', nationality: 'üá™üá∏' },
                        ]
                    }
                }
            ];
            
            const lftData = {
                Regionales: [
                    { name: 'tiagolini', role: 'DPS' },
                ],
                'No Regionales': [
                ]
            };

            // --- FUNCI√ìN PARA OBTENER URL DE LA BANDERA ---
            function getFlagUrl(emoji) {
                const map = { 'üá™üá∏': 'es', 'üá´üá∑': 'fr', 'üá¨üáß': 'gb', 'üáÆüáπ': 'it', 'üá∂üá¶': 'qa', 'üáÆüá™': 'ie', 'üá©üá∞': 'dk', 'üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø': 'gb-sct', 'üá∑üá¥': 'ro', 'üá∏üá∞': 'sk', 'üáµüáπ': 'pt', 'üá™üá™': 'ee', 'üá∏üá™': 'se', 'üá©üá™': 'de', 'üá¶üá∑': 'ar', 'üá®üá±': 'cl', 'üá´üáÆ': 'fi', 'üá∏üá¶': 'sa' };
                const code = map[emoji];
                if (code) { return `https://flagcdn.com/w40/${code}.png`; }
                return ''; 
            }

            // --- FUNCIONES DE RENDERIZADO ---
            function renderTeams() {
                const teamsGrid = document.getElementById('teams-grid');
                if(!teamsGrid) return;
                teamsGrid.innerHTML = ''; 

                teamsData.forEach(team => {
                    const teamCard = document.createElement('div');
                    teamCard.className = 'team-card bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden flex flex-col';
                    
                    const renderColumn = (players) => players.map(player => {
                        const flagHTML = player.nationality ? (getFlagUrl(player.nationality) ? `<img src="${getFlagUrl(player.nationality)}" alt="${player.nationality}" class="w-5 h-auto">` : `<span>${player.nationality}</span>`) : '';
                        return `<div class="player-row flex items-center justify-between text-sm border-b border-zinc-800 py-1">
                                    <div class="flex items-center gap-2">
                                        <div class="w-3 h-3 rounded-sm status-${player.status}" data-status="${player.status}"></div>
                                        <span class="player-name ${player.status === 'x' ? 'text-red-400 line-through' : ''}">${player.name}</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-slate-400">
                                        ${player.staff ? `<span class="font-bold text-xs">${player.staff}</span>` : ''}
                                        ${flagHTML}
                                    </div>
                                </div>`;
                    }).join('');

                    const leftColHTML = `<div class="space-y-2">${renderColumn(team.players?.left || [])}</div>`;
                    const rightColHTML = `<div class="space-y-2">${renderColumn(team.players?.right || [])}</div>`;

                    teamCard.innerHTML = `
                        <h3 class="team-name font-orbitron text-white text-lg text-center ${team.name.includes('?') ? 'bg-zinc-700' : 'bg-orange-500'} py-2">${team.name}</h3>
                        <div class="p-3 flex-grow">
                            <div class="grid grid-cols-2 gap-x-4">
                                ${leftColHTML}
                                ${rightColHTML}
                            </div>
                        </div>
                    `;
                    teamsGrid.appendChild(teamCard);
                });
            }

            function renderLft() {
                const lftSection = document.getElementById('lft-section');
                if(!lftSection) return;
                const regionalPlayers = lftData.Regionales.map(p => `<p><span class="font-semibold text-orange-400">${p.name}</span> - ${p.role}</p>`).join('') || '<p class="text-slate-500">N/A</p>';
                const nonRegionalPlayers = lftData['No Regionales'].map(p => `<p><span class="font-semibold text-orange-400">${p.name}</span> - ${p.role}</p>`).join('') || '<p class="text-slate-500">N/A</p>';
                
                lftSection.innerHTML = `
                    <h2 class="text-4xl font-orbitron font-bold text-white text-center mb-8">Jugadores LFT</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-sm max-w-4xl mx-auto">
                        <div class="bg-zinc-900 p-4 rounded-lg border border-zinc-800">
                            <h3 class="font-orbitron text-white text-lg mb-3 text-center bg-zinc-800 py-1 rounded">Regionales</h3>
                            <div class="lft-list space-y-2">${regionalPlayers}</div>
                        </div>
                        <div class="bg-zinc-900 p-4 rounded-lg border border-zinc-800">
                            <h3 class="font-orbitron text-white text-lg mb-3 text-center bg-zinc-800 py-1 rounded">No Regionales</h3>
                            <div class="lft-list space-y-2">${nonRegionalPlayers}</div>
                        </div>
                    </div>`;
            }

            function renderLegend() {
                const legendSidebar = document.getElementById('legend-sidebar');
                if (!legendSidebar) return;
                legendSidebar.innerHTML = `<div class="p-6 h-full overflow-y-auto"><div class="flex justify-between items-center mb-6"><h2 class="font-orbitron text-white text-2xl">Leyenda</h2><button id="close-legend-btn" class="text-slate-400 hover:text-white"><i class="ph-fill ph-x text-2xl"></i></button></div><div class="space-y-6"><div class="grid grid-cols-2 gap-4"><div class="bg-zinc-800 p-4 rounded-lg"><h3 class="font-orbitron text-orange-400 text-lg mb-3">Prob. (actual)</h3><div class="space-y-2 text-sm"><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-p mr-2"></div><span>>90% probable</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-q mr-2"></div><span>Propenso a quedarse</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-interrogante mr-2"></div><span>No info / Posibilidad</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-s mr-2"></div><span>Apunta a salir</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-x mr-2"></div><span>Salida</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-r mr-2"></div><span>Rumor</span></div></div></div><div class="bg-zinc-800 p-4 rounded-lg"><h3 class="font-orbitron text-orange-400 text-lg mb-3">Prob. (fichaje)</h3><div class="space-y-2 text-sm"><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-f mr-2"></div><span>Firmado*</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-p mr-2"></div><span>>90% probable*</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-q mr-2"></div><span>Propenso a llegar*</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-interrogante mr-2"></div><span>Posibilidad*</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-s mr-2"></div><span>Improbable*</span></div><div class="flex items-center"><div class="w-4 h-4 rounded-sm status-t mr-2"></div><span>Tryouts</span></div></div></div></div><div class="bg-zinc-800 p-4 rounded-lg"><h3 class="font-orbitron text-orange-400 text-lg mb-3">Staff</h3><div class="space-y-2 text-sm"><div class="flex items-center"><span class="font-bold w-8">HC</span><span>Head Coach</span></div><div class="flex items-center"><span class="font-bold w-8">AC</span><span>Assistant Coach</span></div><div class="flex items-center"><span class="font-bold w-8">M</span><span>Manager</span></div></div></div></div></div>`;
            }

            // --- INICIALIZACI√ìN Y EVENTOS ---
            function initialize() {
                renderTeams();
                renderLft();
                renderLegend();
                
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

                const legendToggleBtn = document.getElementById('legend-toggle-btn');
                const overlay = document.getElementById('overlay');
                const legendSidebar = document.getElementById('legend-sidebar');
                const toggleLegend = () => {
                    overlay.classList.toggle('hidden');
                    legendSidebar.classList.toggle('translate-x-full');
                };
                legendToggleBtn.addEventListener('click', toggleLegend);
                legendSidebar.addEventListener('click', (e) => { 
                    if(e.target.id === 'close-legend-btn' || e.target.closest('#close-legend-btn')) {
                        toggleLegend();
                    }
                });
                overlay.addEventListener('click', toggleLegend);
            }

            initialize();
        });
    </script>
</body>
</html>